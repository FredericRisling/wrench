<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.17"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <title>WRENCH: Getting started</title>
    <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <script type="text/javascript" src="jquery.smartmenus.js"></script>
    <!-- SmartMenus jQuery Bootstrap Addon -->
    <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
    <!-- SmartMenus jQuery plugin -->
</head>
<body>
<nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <a href="http://wrench-project.org" class="navbar-brand">
                <img alt="Logo" src="logo-horizontal.png" width="160" style="float: left"/>
                1.6-dev
            </a>
        </div>
        <div id="main-nav" class="nav navbar-nav navbar-right">
            <ul class="sm sm-dox nav navbar-nav navbar-right" id="main-menu">
                <li><a href="index.html">Overview</a></li>
                <li><a href="install.html">Installation</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="wrench-101.html">WRENCH 101</a></li>
                <li><a href="wrench-102.html">WRENCH 102</a></li>
                <li><a href="annotated.html">API Reference</a></li>
                <li style="float: right">
                    <input type="hidden" id="MSearchField">
                </li>
            </ul>
        </div>
    </div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                    <div style="margin-bottom: 15px;">
                        <!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Once you've have installed the wrench library, following the instructions on the <a class="el" href="install.html">installation page</a>, you are ready to create a wrench simulator. <b>information on what can be simulated and how to do it are provided in the <a class="el" href="wrench-101.html">wrench 101</a> and [wrench 102](wrench102) pages. this page is only about the logistics of setting up a simulator project.</b></p>
<h1><a class="anchor" id="getting-started-wrench-init"></a>
using the wrench initialization tool</h1>
<p>the <code>wrench-init</code> tool is a project generator built with wrench, which creates a simple project structure as follows:</p>
<div class="fragment"><div class="line">project-folder/</div>
<div class="line">├── cmakelists.txt</div>
<div class="line">├── readme.md</div>
<div class="line">├── src/</div>
<div class="line">│   ├── simplesimulator.cpp</div>
<div class="line">│   ├── simplestandardjobscheduler.cpp</div>
<div class="line">│   ├── simplestandardjobscheduler.h</div>
<div class="line">│   ├── simplewms.cpp</div>
<div class="line">│   └── simplewms.h </div>
<div class="line">├── test/</div>
<div class="line">├── doc/</div>
<div class="line">├── build/</div>
<div class="line">└── data/</div>
<div class="line">    ├── platform-files/</div>
<div class="line">    └── workflow-files/</div>
</div><!-- fragment --><p>the <code>simplesimulator.cpp</code> source file contains the class representing the simulator (either cloud or batch). <code>simplestandardjobscheduler.h</code> and <code>simplestandardjobscheduler.cpp</code> contain a simple implementation for a <code>wrench::standardjobscheduler</code>; <code>simplewms.h</code> and <code>simplewms.cpp</code> denote the implementation of a simple workflow management system. example platform and workflow files are also generated into the <code>data</code> folder. these files provide the minimum necessary implementation for a wrench-enabled simulator.</p>
<p>the <code>wrench-init</code> tool only requires a single argument, the name of the folder where the project skeleton will be generated:</p>
<div class="fragment"><div class="line">$ wrench-init &lt;project_folder&gt;</div>
</div><!-- fragment --><p>additional options supported by the tool can be found by using the <code>wrench-init --help</code> command.</p>
<h1><a class="anchor" id="getting-started-cmakelists"></a>
creating a CMakeLists.txt file by hand</h1>
<p>alternately, you can do a manual setup, i.e., create your own Cmake project. below is an example of a <code>cmakelists.txt</code> file that can be used as a basic template:</p>
<div class="fragment"><div class="line">cmake_minimum_required(version 3.2)</div>
<div class="line">message(status &quot;cmake version ${cmake_major_version}.${cmake_minor_version}.${cmake_patch_version}&quot;)</div>
<div class="line"> </div>
<div class="line">project(your_project_name)</div>
<div class="line"> </div>
<div class="line">add_definitions(&quot;-wall -wno-unused-variable -wno-unused-private-field&quot;)</div>
<div class="line"> </div>
<div class="line">set(cmake_cxx_standard 11)</div>
<div class="line"> </div>
<div class="line"># include directories for dependencies and wrench libraries</div>
<div class="line">include_directories(src/ /usr/local/include /usr/local/include/wrench)</div>
<div class="line"> </div>
<div class="line"># source files</div>
<div class="line">set(source_files</div>
<div class="line">        src/main.cpp</div>
<div class="line">        )</div>
<div class="line"> </div>
<div class="line"># test files</div>
<div class="line">set(test_files</div>
<div class="line">        )</div>
<div class="line"> </div>
<div class="line"># wrench library and dependencies</div>
<div class="line">find_library(wrench_library names wrench)</div>
<div class="line">find_library(simgrid_library names simgrid)</div>
<div class="line">find_library(pugixml_library names pugixml)</div>
<div class="line">find_library(gtest_library names gtest)</div>
<div class="line"> </div>
<div class="line"># generating the executable</div>
<div class="line">add_executable(my-executable ${source_files})</div>
<div class="line">target_link_libraries(my-executable </div>
<div class="line">                        ${wrench_library} </div>
<div class="line">                        ${simgrid_library} </div>
<div class="line">                        ${pugixml_library} </div>
<div class="line">                     )</div>
<div class="line"> </div>
<div class="line">install(targets my-executable destination bin)</div>
<div class="line"> </div>
<div class="line"># generating unit tests</div>
<div class="line">add_executable(unit_tests exclude_from_all </div>
<div class="line">                 ${source_files} </div>
<div class="line">                 ${test_files}</div>
<div class="line">              )</div>
<div class="line">target_link_libraries(unit_tests </div>
<div class="line">                        ${gtest_library} wrench -lpthread -lm</div>
<div class="line">                     )</div>
</div><!-- fragment --><h1><a class="anchor" id="getting-started-example"></a>
example wrench simulators</h1>
<p>the examples in the <code>examples</code> directory provide good starting points for developing your own simulators. typing <code>make</code> in the top-level directory compiles the examples in the <code>examples</code> directory.</p>
<p>let us run the <code>examples/basic-examples/bare-metal-bag-of-tasks</code> by navigating to that directory and typing:</p>
<div class="fragment"><div class="line">./wrench-example-bare-metal-bag-of-tasks 6 ./two_hosts.xml --wrench-no-logs --log=custom_wms.threshold=info</div>
</div><!-- fragment --><p>you should see some output in the terminal. the output in white is produced by he simulator implemented with the wrench user API. the output in green is produced by the workflow management system implemented with the wrench developer API.</p>
<p>although you can inspect the codes of the examples on your own, we highly recommend that you go through the <a class="el" href="wrench-101.html">wrench 101</a> and wrench102" pages first. these pages make direct references to the examples, a description of which is available in <code>examples/readme.md</code> in the wrench distribution.</p>
<hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/>
<address class="footer">
    <small>
        Generated by &#160;<a href="http://www.doxygen.org/index.html">
        <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a> 1.8.17
    </small>
</address>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-18066333-6', 'auto');
    ga('send', 'pageview');
</script>
</body>
<script type="text/javascript" src="doxy-boot.js"></script>
</html>
