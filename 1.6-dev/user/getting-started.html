<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.13"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <title>WRENCH: Getting Started</title>
    <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <script type="text/javascript" src="jquery.smartmenus.js"></script>
    <!-- SmartMenus jQuery Bootstrap Addon -->
    <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
    <!-- SmartMenus jQuery plugin -->
</head>
<body>
<nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <a href="http://wrench-project.org" class="navbar-brand">
                <img alt="Logo" src="logo-horizontal.png" width="160" style="float: left"/>
                1.6-dev
            </a>
        </div>
        <div id="main-nav" class="nav navbar-nav navbar-right">
            <ul class="sm sm-dox nav navbar-nav navbar-right" id="main-menu">
                <li><a href="index.html">Overview</a></li>
                <li><a href="install.html">Installation</a></li>
                <li><a href="getting-started.html">Getting Started</a></li>
                <li><a href="wrench-101.html">WRENCH 101</a></li>
                <li><a href="guide.html">Guide</a></li>
                <li><a href="annotated.html">API Reference</a></li>
                <li style="float: right">
                    <input type="hidden" id="MSearchField">
                </li>
            </ul>
        </div>
    </div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                    <div style="margin-bottom: 15px;">
                        <!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#getting-started-example">Running an Example</a></li>
<li class="level1"><a href="#getting-started-cmakelists">Creating a CMakeLists.txt File By Hand</a></li>
<li class="level1"><a href="#getting-started-wrench-init">Using the WRENCH Initialization Tool</a></li>
</ul>
</div>
<div class="textblock"><p>Once you've have installed the WRENCH library, following the instructions on the <a class="el" href="install.html">installation page</a>, you are ready to create a WRENCH simulator. Let us start with running an example simulator, and then creating an "empty" WRENCH simulator. Information about what can be simulated and how are provided in the WRENCH 101 and WRENCH 102 pages.</p>
<h1><a class="anchor" id="getting-started-example"></a>
Running an Example</h1>
<p>The examples in the <code>examples</code> directory provide good starting points for developing your own simulators. Typing <code>make</code> in the top-level directory compiles the examples in the <code>examples</code> directory.</p>
<p>Let us run the <code>examples/basic-examples/bare-metal-bag-of-tasks</code> by navigating to that directory and typing:</p>
<div class="fragment"><div class="line">./wrench-example-bare-metal-bag-of-tasks 6 ./two_hosts.xml --wrench-no-logs --log=custom_wms.threshold=info</div></div><!-- fragment --><p>You should see some output in the terminal. The output in white is produced by he simulator implemented with the WRENCH User API. The output in green is produced by the Workflow Management System implemented with the WRENCH Developer API.</p>
<p>Although you can inspect the codes of the examples on your own, we highly recommend that you go through the WRENCH 101 and WRENCH102" pages first. These pages make direct references to the examples, a description of which is available in <code>examples/README.md</code> in the WRENCH distribution.</p>
<h1><a class="anchor" id="getting-started-cmakelists"></a>
Creating a CMakeLists.txt File By Hand</h1>
<p>Below is an example of a <code>CMakeLists.txt</code> file that can be used as a starting template for developing a WRENCH application compiled using cmake:</p>
<div class="fragment"><div class="line">cmake_minimum_required(VERSION 3.2)</div><div class="line">message(STATUS &quot;Cmake version ${CMAKE_MAJOR_VERSION}.${CMAKE_MINOR_VERSION}.${CMAKE_PATCH_VERSION}&quot;)</div><div class="line"></div><div class="line">project(YOUR_PROJECT_NAME)</div><div class="line"></div><div class="line">add_definitions(&quot;-Wall -Wno-unused-variable -Wno-unused-private-field&quot;)</div><div class="line"></div><div class="line">set(CMAKE_CXX_STANDARD 11)</div><div class="line"></div><div class="line"># include directories for dependencies and WRENCH libraries</div><div class="line">include_directories(src/ /usr/local/include /usr/local/include/wrench)</div><div class="line"></div><div class="line"># source files</div><div class="line">set(SOURCE_FILES</div><div class="line">        src/main.cpp</div><div class="line">        )</div><div class="line"></div><div class="line"># test files</div><div class="line">set(TEST_FILES</div><div class="line">        )</div><div class="line"></div><div class="line"># wrench library and dependencies</div><div class="line">find_library(WRENCH_LIBRARY NAMES wrench)</div><div class="line">find_library(SIMGRID_LIBRARY NAMES simgrid)</div><div class="line">find_library(PUGIXML_LIBRARY NAMES pugixml)</div><div class="line">find_library(LEMON_LIBRARY NAMES emon)</div><div class="line">find_library(GTEST_LIBRARY NAMES gtest)</div><div class="line"></div><div class="line"># generating the executable</div><div class="line">add_executable(my-executable ${SOURCE_FILES})</div><div class="line">target_link_libraries(my-executable </div><div class="line">                        ${WRENCH_LIBRARY} </div><div class="line">                        ${SIMGRID_LIBRARY} </div><div class="line">                        ${PUGIXML_LIBRARY} </div><div class="line">                        ${LEMON_LIBRARY}</div><div class="line">                     )</div><div class="line"></div><div class="line">install(TARGETS my-executable DESTINATION bin)</div><div class="line"></div><div class="line"># generating unit tests</div><div class="line">add_executable(unit_tests EXCLUDE_FROM_ALL </div><div class="line">                 ${SOURCE_FILES} </div><div class="line">                 ${TEST_FILES}</div><div class="line">              )</div><div class="line">target_link_libraries(unit_tests </div><div class="line">                        ${GTEST_LIBRARY} wrench -lpthread -lm</div><div class="line">                     )</div></div><!-- fragment --><h1><a class="anchor" id="getting-started-wrench-init"></a>
Using the WRENCH Initialization Tool</h1>
<p>The <code>wrench-init</code> tool is a project generator built with WRENCH, which creates a simple project structure with example class files, as follows:</p>
<div class="fragment"><div class="line">project-folder/</div><div class="line">├── CMakeLists.txt</div><div class="line">├── README.md</div><div class="line">├── src/</div><div class="line">│   ├── SimpleSimulator.cpp</div><div class="line">│   ├── SimpleStandardJobScheduler.cpp</div><div class="line">│   ├── SimpleStandardJobScheduler.h</div><div class="line">│   ├── SimpleWMS.cpp</div><div class="line">│   └── SimpleWMS.h </div><div class="line">├── test/</div><div class="line">├── doc/</div><div class="line">├── build/</div><div class="line">└── data/</div><div class="line">    ├── platform-files/</div><div class="line">    └── workflow-files/</div></div><!-- fragment --><p>The <code>SimpleSimulator.cpp</code> source file contains the class representing the simulator (either cloud or batch). <code>SimpleStandardJobScheduler.h</code> and <code>SimpleStandardJobScheduler.cpp</code> contain a simple implementation for a <code><a class="el" href="classwrench_1_1_standard_job_scheduler.html" title="A (mostly virtual) base class for implementing StandardJob scheduling algorithms to be used by a WMS...">wrench::StandardJobScheduler</a></code>; <code>SimpleWMS.h</code> and <code>SimpleWMS.cpp</code> denote the implementation of a simple workflow management system. Example platform and workflow files are also generated into the <code>data</code> folder. These files provide the minimum necessary implementation for a WRENCH-enabled simulator.</p>
<p>The <code>wrench-init</code> tool only requires a single argument, the name of the folder where the project skeleton will be generated:</p>
<div class="fragment"><div class="line">$ wrench-init &lt;PROJECT_FOLDER&gt;</div></div><!-- fragment --><p>Additional options supported by the tool can be found by using the <code>wrench-init --help</code> command. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/>
<address class="footer">
    <small>
        Generated by &#160;<a href="http://www.doxygen.org/index.html">
        <img class="footer" src="doxygen.png" alt="doxygen"/>
    </a> 1.8.13
    </small>
</address>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-18066333-6', 'auto');
    ga('send', 'pageview');
</script>
</body>
<script type="text/javascript" src="doxy-boot.js"></script>
</html>
