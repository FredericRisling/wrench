<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.17"/>
    <title>WRENCH: Getting started</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="bootstrap.min.css">
    <script src="bootstrap.min.js"></script>
    <link href="jquery.smartmenus.bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
          integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <script type="text/javascript" src="jquery.smartmenus.js"></script>
    <script type="text/javascript" src="jquery.smartmenus.bootstrap.js"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <a href="https://wrench-project.org" class="navbar-brand">
                <img alt="Logo" src="logo-horizontal.png" width="160" style="float: left"/>
                1.7-dev
            </a>
        </div>
        <div id="main-nav" class="nav navbar-nav navbar-right">
            <ul class="sm sm-dox nav navbar-nav navbar-right" id="main-menu">
                <li class="nav-item"><a class="nav-link" href="/wrench/1.7-dev/index.html">Overview</a></li>
                <li class="nav-item"><a class="nav-link" href="/wrench/1.7-dev/install.html">Installation</a>
                </li>
                <li class="nav-item"><a class="nav-link" href="/wrench/1.7-dev/getting-started.html">Getting
                    Started</a></li>
                <li class="nav-item"><a class="nav-link" href="/wrench/1.7-dev/wrench-101.html">WRENCH 101</a>
                </li>
                <li class="nav-item"><a class="nav-link" href="/wrench/1.7-dev/wrench-102.html">WRENCH 102</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button"
                       aria-haspopup="true" aria-expanded="false">APIs Reference</a>
                    <div class="dropdown-menu">
                        <a class="small dropdown-item" href="/wrench/1.7-dev/user/annotated.html">User</a>
                        <a class="small dropdown-item"
                           href="/wrench/1.7-dev/developer/annotated.html">Developer</a>
                        <a class="small dropdown-item"
                           href="/wrench/1.7-dev/internal/annotated.html">Internal</a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div id="top" style="padding-top: 4em !important"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                    <div style="margin-bottom: 15px;">
                        <!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Once you have installed the WRENCH library, following the instructions on the <a class="el" href="install.html">installation page</a>, you are ready to create a WRENCH simulator. <b>Information on what can be simulated and how to do it are provided in the <a class="el" href="wrench-101.html">WRENCH 101</a> and <a class="el" href="wrench-102.html">WRENCH 102</a> pages. This page is only about the logistics of setting up a simulator project.</b></p>
<h1><a class="anchor" id="getting-started-wrench-init"></a>
Using the WRENCH initialization tool</h1>
<p>The <code>wrench-init</code> tool is a project generator built with WRENCH, which creates a simple project structure as follows:</p>
<div class="fragment"><div class="line">project-folder/</div>
<div class="line">├── CMakeLists.txt</div>
<div class="line">├── CMakeModules</div>
<div class="line">│   └── FindSimGrid.cmake</div>
<div class="line">├── src/</div>
<div class="line">│   ├── SimpleSimulator.cpp</div>
<div class="line">│   ├── SimpleStandardJobScheduler.cpp</div>
<div class="line">│   ├── SimpleStandardJobScheduler.h</div>
<div class="line">│   ├── SimpleWMS.cpp</div>
<div class="line">│   └── SimpleWMS.h </div>
<div class="line">├── test/</div>
<div class="line">├── doc/</div>
<div class="line">├── build/</div>
<div class="line">└── data/</div>
<div class="line">    └── platform-files/</div>
<div class="line">        └── hosts.xml</div>
</div><!-- fragment --><p>The <code>simplesimulator.cpp</code> source file contains the class representing the simulator (either cloud or batch). <code>simplestandardjobscheduler.h</code> and <code>simplestandardjobscheduler.cpp</code> contain a simple implementation for a <code><a class="el" href="classwrench_1_1_standard_job_scheduler.html" title="A (mostly virtual) base class for implementing StandardJob scheduling algorithms to be used by a WMS.">wrench::StandardJobScheduler</a></code>; <code>simplewms.h</code> and <code>simplewms.cpp</code> denote the implementation of a simple workflow management system. Example platform and workflow files are also generated into the <code>data</code> folder. These files provide the minimum necessary implementation for a WRENCH-enabled simulator.</p>
<p>The <code>wrench-init</code> tool only requires a single argument, the name of the folder where the project skeleton will be generated:</p>
<div class="fragment"><div class="line">$ wrench-init &lt;project_folder&gt;</div>
</div><!-- fragment --><p>Additional options supported by the tool can be found by using the <code>wrench-init --help</code> command.</p>
<h1><a class="anchor" id="getting-started-cmakelists"></a>
Creating a CMakeLists.txt file by hand</h1>
<p>Alternately, you can do a manual setup, i.e., create your own Cmake project. Below is an example of a <code>CMakeLists.txt</code> file that can be used as a basic template:</p>
<div class="fragment"><div class="line">cmake_minimum_required(version 3.2)</div>
<div class="line">message(status &quot;cmake version ${cmake_major_version}.${cmake_minor_version}.${cmake_patch_version}&quot;)</div>
<div class="line"> </div>
<div class="line">project(your_project_name)</div>
<div class="line"> </div>
<div class="line">add_definitions(&quot;-wall -wno-unused-variable -wno-unused-private-field&quot;)</div>
<div class="line"> </div>
<div class="line">set(cmake_cxx_standard 11)</div>
<div class="line"> </div>
<div class="line"># include directories for dependencies and wrench libraries</div>
<div class="line">include_directories(src/ /usr/local/include /usr/local/include/wrench)</div>
<div class="line"> </div>
<div class="line"># source files</div>
<div class="line">set(source_files</div>
<div class="line">        src/main.cpp</div>
<div class="line">        )</div>
<div class="line"> </div>
<div class="line"># test files</div>
<div class="line">set(test_files</div>
<div class="line">        )</div>
<div class="line"> </div>
<div class="line"># wrench library and dependencies</div>
<div class="line">find_library(wrench_library names wrench)</div>
<div class="line">find_library(simgrid_library names simgrid)</div>
<div class="line">find_library(pugixml_library names pugixml)</div>
<div class="line">find_library(gtest_library names gtest)</div>
<div class="line"> </div>
<div class="line"># generating the executable</div>
<div class="line">add_executable(my-executable ${source_files})</div>
<div class="line">target_link_libraries(my-executable </div>
<div class="line">                        ${wrench_library} </div>
<div class="line">                        ${simgrid_library} </div>
<div class="line">                        ${pugixml_library} </div>
<div class="line">                     )</div>
<div class="line"> </div>
<div class="line">install(targets my-executable destination bin)</div>
<div class="line"> </div>
<div class="line"># generating unit tests</div>
<div class="line">add_executable(unit_tests exclude_from_all </div>
<div class="line">                 ${source_files} </div>
<div class="line">                 ${test_files}</div>
<div class="line">               )</div>
<div class="line">target_link_libraries(unit_tests </div>
<div class="line">                        ${gtest_library} wrench -lpthread -lm</div>
<div class="line">                      )</div>
</div><!-- fragment --><h1><a class="anchor" id="getting-started-example"></a>
Example WRENCH simulators</h1>
<p>The examples in the <code>examples</code> directory provide good starting points for developing your own simulators. Typing <code>make</code> in the top-level directory compiles the examples in the <code>examples</code> directory.</p>
<p>Let us run the <code>examples/basic-examples/bare-metal-bag-of-tasks</code> by navigating to that directory and typing:</p>
<div class="fragment"><div class="line">./wrench-example-bare-metal-bag-of-tasks 6 ./two_hosts.xml --log=custom_wms.threshold=info</div>
</div><!-- fragment --><p>You should see some output in the terminal. The output in white is produced by the simulator implemented with the WRENCH user API. The output in green is produced by the workflow management system implemented with the WRENCH developer API.</p>
<p>Although you can inspect the codes of the examples on your own, we highly recommend that you go through the <a class="el" href="wrench-101.html">WRENCH 101</a> and <a class="el" href="wrench-102.html">WRENCH 102</a> pages first. These pages make direct references to the examples, a description of which is available in <code>examples/README.md</code> in the WRENCH distribution.</p>
<hr  />
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<div class="footer">
    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <p>
                    <strong>&copy;2017-2020 WRENCH. All Rights Reserved.</strong><br />
                </p>
                <p style="padding-top: 1em">
                    <a href="mailto:support@wrench-project.org" class="fa-stack fa-2x" style="font-size: 1.5em">
                        <i class="fa fa-circle fa-stack-2x" style="color: #fff"></i>
                        <i class="fa fa-envelope fa-stack-1x"></i>
                    </a>
                    <a href="http://twitter.com/wrenchproject" target="_blank" class="fa-stack fa-2x"
                       style="font-size: 1.5em">
                        <i class="fa fa-circle fa-stack-2x" style="color: #fff"></i>
                        <i class="fab fa-twitter fa-stack-1x"></i>
                    </a>
                    <a href="https://github.com/wrench-project/wrench" target="_blank" class="fa-stack fa-2x"
                       style="font-size: 1.5em">
                        <i class="fa fa-circle fa-stack-2x" style="color: #fff"></i>
                        <i class="fab fa-github fa-stack-1x"></i>
                    </a>
                </p>
            </div>
            <div class="col-sm-4 text-center">
            </div>
            <div class="col-sm-4">
                <p>WRENCH is funded by the National Science Foundation (NSF) under grants number <a
                        href="https://nsf.gov/awardsearch/showAward?AWD_ID=1642369" target="_blank">1642369</a>,
                    <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1642335" target="_blank">1642335</a>,
                    <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1923539" target="_blank">1923539</a>, and
                    <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1923621" target="_blank">1923621</a>;
                    and the National Center for Scientific Research (CNRS) under grant number PICS07239.
                </p>
                <p style="font-weight: normal; font-size: 0.8em; margin-top: 1em">
                    Any opinions, findings, and conclusions or recommendations expressed in this material are those
                    of the author(s) and do not necessarily reflect the views of the National Science Foundation.
                </p>
            </div>
        </div>
    </div>
</div>
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-18066333-6', 'auto');
    ga('send', 'pageview');
</script>
</body>
<script type="text/javascript" src="doxy-boot.js"></script>
</html>
